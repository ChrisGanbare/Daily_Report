@startuml
actor User
participant "ZR Daily Report" as App
database MySQL
file "DeviceInfoCSV" as CSV
file "InventoryReport" as InventoryReport
file "Statement" as Statement
file "Log" as Log

User -> App: 启动程序
App -> User: 显示模式选择对话框
User -> App: 选择执行模式
App -> CSV: 读取设备信息文件
CSV --> App: 返回设备信息数据
App -> App: 验证设备信息数据
App -> MySQL: 连接数据库
MySQL --> App: 返回数据库连接
loop 每个设备
    App -> MySQL: 查询设备和客户信息
    MySQL --> App: 返回设备ID、客户ID
    App -> MySQL: 查询库存数据
    MySQL --> App: 返回库存数据
    App -> App: 处理库存数据
end
App -> User: 选择输出目录
App -> InventoryReport: 生成库存报表(可选)
App -> Statement: 生成客户对账单(可选)
App -> Log: 生成处理日志
@enduml